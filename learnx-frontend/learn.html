<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Learn - LearnX</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/main.css">
  <style>
    .gradient-bg {
      background: linear-gradient(135deg, #1E201E, #3C3D37, #697565);
    }

    body {
        background: linear-gradient(135deg, #1E201E, #3C3D37, #697565);
    }
    html {
      scroll-behavior: smooth;
    }
    
    /* Custom Styles for Learn Page */
    .category-card {
      transition: transform 0.3s ease-in-out, background-color 0.3s ease-in-out;
      position: relative;
      overflow: hidden;
      z-index: 1;
    }
    
    .category-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, rgba(0, 191, 166, 0.1) 0%, rgba(0, 0, 0, 0) 70%);
      z-index: -1;
      transition: opacity 0.3s ease;
    }
    
    .category-card:hover::before {
      opacity: 0.8;
    }
    
    .category-card:hover {
      transform: translateY(-10px);
    }
    
    .category-icon {
      transition: all 0.3s ease;
      background: rgba(0, 191, 166, 0.1);
    }
    
    .category-card:hover .category-icon {
      transform: scale(1.1);
      background: rgba(0, 191, 166, 0.2);
    }
    
    .session-card {
      transition: all 0.3s ease;
      position: relative;
      border-left: 3px solid transparent;
    }
    
    .session-card:hover {
      border-left-color: var(--primary);
      transform: translateX(5px);
    }
    
    .session-rating {
      position: relative;
      overflow: hidden;
    }
    
    .session-rating::before {
      content: '★★★★★';
      position: absolute;
      color: var(--surface-3);
    }
    
    .session-rating-filled {
      position: relative;
      overflow: hidden;
      color: var(--warning);
    }
    
    .search-container {
      position: relative;
      overflow: hidden;
      border-radius: var(--radius-lg);
    }
    
    .search-container::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(
        to right,
        rgba(0, 191, 166, 0) 0%,
        rgba(0, 191, 166, 0.1) 50%,
        rgba(0, 191, 166, 0) 100%
      );
      transform: rotate(30deg);
      animation: searchShine 3s infinite;
      z-index: 1;
      pointer-events: none;
    }
    
    @keyframes searchShine {
      from { transform: translateX(-100%) rotate(30deg); }
      to { transform: translateX(100%) rotate(30deg); }
    }
    
    .filter-pill {
      display: inline-block;
      padding: 0.25rem 0.75rem;
      margin-right: 0.5rem;
      margin-bottom: 0.5rem;
      border-radius: 1rem;
      background-color: var(--surface-2);
      color: var(--foreground);
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .filter-pill:hover {
      background-color: var(--surface-3);
    }
    
    .filter-pill.active {
      background-color: var(--primary);
      color: white;
    }

    /* Loading spinner */
    .loader {
      border: 3px solid rgba(0, 0, 0, 0.1);
      border-radius: 50%;
      border-top: 3px solid var(--primary);
      width: 30px;
      height: 30px;
      animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

  </style>
  <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
</head>
  <div id="particles-js" class="absolute top-0 left-0 w-full h-full z-10 opacity-30 pointer-events-none"></div>
<body class="gradient-bg bg-[#121212] text-white font-sans">
 
  <!-- Flex container for sidebar and content -->
  <div class="flex">
     <!-- Sidebar Placeholder - will be replaced by sidebar-loader.js -->
    <div class="sidebar-placeholder"></div>


    <!-- Main Content -->
    <div class="flex-1 ml-64 p-8">
      <header class="mb-8" data-aos="fade-up">
        <h2 class="text-3xl md:text-4xl font-semibold mb-4 flex items-center">
          <i class="fas fa-graduation-cap text-primary mr-3"></i>
          Discover Learning Opportunities
        </h2>
        <p class="text-lg text-secondary">Find and connect with experienced mentors in various fields</p>
      </header>

      <!-- Search Bar -->
      <div class="search-container bg-surface-1 p-1 shadow-lg mb-8" data-aos="fade-up">
        <div class="flex flex-col md:flex-row p-4 gap-4 relative z-2">
          <div class="flex-grow">
            <div class="relative">
              <input type="text" placeholder="Search for a skill, mentor, or session..." class="w-full p-4 bg-surface-2 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary pl-12" />
              <i class="fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
            </div>
          </div>
          <div class="flex gap-2">
            <div class="relative">
              <select class="appearance-none bg-surface-2 text-white py-4 px-6 pr-10 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary">
                <option>All Categories</option>
                <option>Coding</option>
                <option>Design</option>
                <option>Business</option>
                <option>Language</option>
                <option>Music</option>
              </select>
              <i class="fas fa-chevron-down absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none"></i>
            </div>
            <button class="btn btn-primary flex items-center justify-center">
              <i class="fas fa-search mr-2"></i>
              Search
            </button>
          </div>
        </div>
        
        <!-- Filter Pills -->
        <div class="flex flex-wrap gap-2 p-4 border-t border-gray-800">
          <span class="filter-pill px-3 py-1 bg-surface-2 rounded-full text-sm cursor-pointer active">All</span>
          <span class="filter-pill px-3 py-1 bg-surface-2 rounded-full text-sm cursor-pointer">Online</span>
          <span class="filter-pill px-3 py-1 bg-surface-2 rounded-full text-sm cursor-pointer">In-Person</span>
          <span class="filter-pill px-3 py-1 bg-surface-2 rounded-full text-sm cursor-pointer">Free</span>
          <span class="filter-pill px-3 py-1 bg-surface-2 rounded-full text-sm cursor-pointer">Paid</span>
          <span class="filter-pill px-3 py-1 bg-surface-2 rounded-full text-sm cursor-pointer">This Week</span>
          <span class="filter-pill px-3 py-1 bg-surface-2 rounded-full text-sm cursor-pointer">Weekends</span>
          <span class="filter-pill px-3 py-1 bg-surface-2 rounded-full text-sm cursor-pointer">Highly Rated</span>
        </div>
      </div>

      <!-- Categories -->
      <div class="mb-12" data-aos="fade-up">
        <h3 class="text-2xl font-semibold mb-6 flex items-center">
          <i class="fas fa-th-large text-primary mr-2"></i>
          Browse Categories
        </h3>
        <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6">
          <div class="category-card bg-surface-1 p-6 rounded-xl shadow-lg text-center card-hover">
            <div class="category-icon text-primary text-3xl mb-4 mx-auto w-16 h-16 flex items-center justify-center rounded-full">
              <i class="fas fa-laptop-code"></i>
            </div>
            <h3 class="text-lg font-semibold">Coding</h3>
            <p class="mt-2 text-sm text-secondary">Python, JS, Web Dev</p>
          </div>
          <div class="category-card bg-surface-1 p-6 rounded-xl shadow-lg text-center card-hover">
            <div class="category-icon text-primary text-3xl mb-4 mx-auto w-16 h-16 flex items-center justify-center rounded-full">
              <i class="fas fa-paint-brush"></i>
            </div>
            <h3 class="text-lg font-semibold">Design</h3>
            <p class="mt-2 text-sm text-secondary">UI/UX, Graphics</p>
          </div>
          <div class="category-card bg-surface-1 p-6 rounded-xl shadow-lg text-center card-hover">
            <div class="category-icon text-primary text-3xl mb-4 mx-auto w-16 h-16 flex items-center justify-center rounded-full">
              <i class="fas fa-music"></i>
            </div>
            <h3 class="text-lg font-semibold">Music</h3>
            <p class="mt-2 text-sm text-secondary">Instruments, Theory</p>
          </div>
          <div class="category-card bg-surface-1 p-6 rounded-xl shadow-lg text-center card-hover">
            <div class="category-icon text-primary text-3xl mb-4 mx-auto w-16 h-16 flex items-center justify-center rounded-full">
              <i class="fas fa-dumbbell"></i>
            </div>
            <h3 class="text-lg font-semibold">Fitness</h3>
            <p class="mt-2 text-sm text-secondary">Yoga, Strength</p>
          </div>
          <div class="category-card bg-surface-1 p-6 rounded-xl shadow-lg text-center card-hover">
            <div class="category-icon text-primary text-3xl mb-4 mx-auto w-16 h-16 flex items-center justify-center rounded-full">
              <i class="fas fa-chart-line"></i>
            </div>
            <h3 class="text-lg font-semibold">Business</h3>
            <p class="mt-2 text-sm text-secondary">Marketing, Finance</p>
          </div>
          <div class="category-card bg-surface-1 p-6 rounded-xl shadow-lg text-center card-hover">
            <div class="category-icon text-primary text-3xl mb-4 mx-auto w-16 h-16 flex items-center justify-center rounded-full">
              <i class="fas fa-language"></i>
            </div>
            <h3 class="text-lg font-semibold">Language</h3>
            <p class="mt-2 text-sm text-secondary">Spanish, Chinese</p>
          </div>
        </div>
      </div>
      
      <!-- Available Sessions -->
      <div class="mb-12">
        <div class="flex justify-between items-center mb-6">
          <h2 class="text-2xl font-semibold flex items-center" data-aos="fade-up">
            <i class="fas fa-calendar-alt text-primary mr-2"></i>
            Available Sessions
          </h2>
          <div class="flex gap-2">
            <button class="bg-surface-2 text-white py-2 px-4 rounded-lg hover:bg-surface-3 transition-colors flex items-center">
              <i class="fas fa-filter mr-2"></i>Filter
            </button>
            <div class="relative">
              <select class="appearance-none bg-surface-2 text-white py-2 px-4 pr-8 rounded-lg focus:outline-none focus:ring-1 focus:ring-primary">
                <option>Newest First</option>
                <option>Highest Rated</option>
                <option>Price: Low to High</option>
                <option>Price: High to Low</option>
              </select>
              <i class="fas fa-chevron-down absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none"></i>
            </div>
          </div>
        </div>
        <div id="available-sessions-container" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6" data-aos="fade-up">
          <!-- Sessions (will be populated by JS, showing sample items here) -->
          <div class="session-card bg-surface-1 p-6 rounded-xl shadow-lg card-hover">
            <div class="flex justify-between mb-4">
              <span class="badge badge-primary">Coding</span>
              <div class="session-rating">
                <div class="session-rating-filled" style="width: 90%">★★★★★</div>
              </div>
            </div>
            <h3 class="text-xl font-semibold mb-2">Advanced React Hooks</h3>
            <p class="text-secondary mb-4">Learn how to use React's advanced hooks to build powerful components.</p>
            <div class="flex items-center mb-4">
              <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Instructor" class="w-10 h-10 rounded-full mr-3">
              <div>
                <p class="font-medium">David Wilson</p>
                <p class="text-xs text-secondary">Senior Frontend Developer</p>
              </div>
            </div>
            <div class="flex justify-between items-center pt-4 border-t border-gray-800">
              <p class="font-bold text-success">FREE</p>
              <button class="btn btn-primary py-2 px-4" onclick="bookSession(1)">Book Session</button>
            </div>
          </div>
          
          <div class="session-card bg-surface-1 p-6 rounded-xl shadow-lg card-hover">
            <div class="flex justify-between mb-4">
              <span class="badge badge-accent">Design</span>
              <div class="session-rating">
                <div class="session-rating-filled" style="width: 100%">★★★★★</div>
              </div>
            </div>
            <h3 class="text-xl font-semibold mb-2">UI/UX Design Fundamentals</h3>
            <p class="text-secondary mb-4">Master the principles of creating beautiful user interfaces.</p>
            <div class="flex items-center mb-4">
              <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="Instructor" class="w-10 h-10 rounded-full mr-3">
              <div>
                <p class="font-medium">Sarah Johnson</p>
                <p class="text-xs text-secondary">UI/UX Designer at Google</p>
              </div>
            </div>
            <div class="flex justify-between items-center pt-4 border-t border-gray-800">
              <p class="font-bold text-success">FREE</p>
              <button class="btn btn-primary py-2 px-4" onclick="bookSession(2)">Book Session</button>
            </div>
          </div>
          
          <div class="session-card bg-surface-1 p-6 rounded-xl shadow-lg card-hover">
            <div class="flex justify-between mb-4">
              <span class="badge-primary badge">Free</span>
              <div class="session-rating">
                <div class="session-rating-filled" style="width: 85%">★★★★★</div>
              </div>
            </div>
            <h3 class="text-xl font-semibold mb-2">Introduction to Python</h3>
            <p class="text-secondary mb-4">Get started with Python programming with this beginner-friendly session.</p>
            <div class="flex items-center mb-4">
              <img src="https://randomuser.me/api/portraits/men/67.jpg" alt="Instructor" class="w-10 h-10 rounded-full mr-3">
              <div>
                <p class="font-medium">Michael Brown</p>
                <p class="text-xs text-secondary">Python Developer</p>
              </div>
            </div>
            <div class="flex justify-between items-center pt-4 border-t border-gray-800">
              <p class="font-bold text-success">FREE</p>
              <button class="btn btn-primary py-2 px-4" onclick="bookSession(3)">Book Session</button>
            </div>
          </div>
        </div>
        
        <div class="flex justify-center mt-8">
          <button class="btn btn-secondary py-3 px-6 flex items-center">
            Load More <i class="fas fa-arrow-down ml-2"></i>
          </button>
        </div>
      </div>

      <!-- User Learning Data Sections -->
      <div class="mb-12">
        <h2 class="text-2xl font-semibold mb-6 flex items-center" data-aos="fade-up">
          <i class="fas fa-graduation-cap text-primary mr-3"></i>Your Learning Journey
        </h2>

        <div id="enrolled-courses" class="bg-surface-1 p-6 rounded-xl shadow-lg mb-8 card" data-aos="fade-up">
          <h3 class="text-xl font-semibold mb-4 flex items-center">
            <i class="fas fa-book-open text-primary mr-2"></i>Enrolled Courses
          </h3>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="bg-surface-2 p-4 rounded-lg hover:bg-surface-3 transition-colors">
              <div class="flex justify-between mb-2">
                <h4 class="font-medium">JavaScript Mastery</h4>
                <span class="text-xs px-2 py-1 bg-primary bg-opacity-20 rounded-full text-primary">In Progress</span>
              </div>
              <p class="text-sm text-secondary mb-2">Next session: Tomorrow at 3:00 PM</p>
              <div class="flex justify-between items-center">
                <span class="text-xs text-secondary"><i class="fas fa-user mr-1 text-primary"></i> with Alex Morgan</span>
                <a href="#" class="text-primary text-sm hover:underline">Continue</a>
              </div>
            </div>
            <div class="bg-surface-2 p-4 rounded-lg hover:bg-surface-3 transition-colors">
              <div class="flex justify-between mb-2">
                <h4 class="font-medium">UX Research Methods</h4>
                <span class="text-xs px-2 py-1 bg-primary bg-opacity-20 rounded-full text-primary">In Progress</span>
              </div>
              <p class="text-sm text-secondary mb-2">Next session: Friday at 5:00 PM</p>
              <div class="flex justify-between items-center">
                <span class="text-xs text-secondary"><i class="fas fa-user mr-1 text-primary"></i> with Emma Wilson</span>
                <a href="#" class="text-primary text-sm hover:underline">Continue</a>
              </div>
            </div>
          </div>
        </div>

        <!-- My Booked Sessions Section -->
        <div id="booked-sessions" class="bg-surface-1 p-6 rounded-xl shadow-lg mb-8 card" data-aos="fade-up">
          <h3 class="text-xl font-semibold mb-4 flex items-center">
            <i class="fas fa-calendar-check text-primary mr-2"></i>My Booked Sessions
          </h3>
          <div id="booked-sessions-container" class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <!-- Empty state for booked sessions -->
            <div class="col-span-2 text-center py-4">
              <p class="text-secondary mb-3">You haven't booked any sessions yet.</p>
              <p class="text-secondary">Book a session from the <a href="#available-sessions-container" class="text-primary hover:underline">available sessions</a> below.</p>
            </div>
          </div>
        </div>

        <div id="course-progress-learn" class="bg-surface-1 p-6 rounded-xl shadow-lg mb-8 card" data-aos="fade-up">
          <h3 class="text-xl font-semibold mb-4 flex items-center">
            <i class="fas fa-chart-bar text-primary mr-2"></i>Course Progress
          </h3>
          <div class="space-y-4">
            <div>
              <div class="flex justify-between mb-2">
                <p class="font-medium">JavaScript Mastery</p>
                <p class="text-primary font-medium">65%</p>
              </div>
              <div class="progress-bar w-full h-2 bg-surface-3 rounded-full overflow-hidden">
                <div class="progress-bar-fill h-full" style="width: 65%"></div>
              </div>
            </div>
            <div>
              <div class="flex justify-between mb-2">
                <p class="font-medium">UX Research Methods</p>
                <p class="text-primary font-medium">35%</p>
              </div>
              <div class="progress-bar w-full h-2 bg-surface-3 rounded-full overflow-hidden">
                <div class="progress-bar-fill h-full" style="width: 35%"></div>
              </div>
            </div>
            <div>
              <div class="flex justify-between mb-2">
                <p class="font-medium">Python Basics</p>
                <p class="text-primary font-medium">100%</p>
              </div>
              <div class="progress-bar w-full h-2 bg-surface-3 rounded-full overflow-hidden">
                <div class="progress-bar-fill h-full" style="width: 100%"></div>
              </div>
            </div>
          </div>
        </div>

        <div id="recommended" class="bg-surface-1 p-6 rounded-xl shadow-lg card" data-aos="fade-up">
          <h3 class="text-xl font-semibold mb-4 flex items-center">
            <i class="fas fa-lightbulb text-primary mr-2"></i>Recommended For You
          </h3>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <div class="bg-surface-2 p-4 rounded-lg hover:bg-surface-3 transition-colors">
              <div class="flex justify-between mb-2">
                <span class="text-xs px-2 py-1 bg-accent bg-opacity-20 rounded-full text-accent">Advanced</span>
                <p class="text-primary font-bold">$55</p>
              </div>
              <h4 class="font-medium">React Native Deep Dive</h4>
              <p class="text-sm text-secondary mt-1 mb-3">Build cross-platform mobile apps with React Native expertise.</p>
              <button class="w-full btn btn-primary py-1.5 text-sm">View Details</button>
            </div>
            <div class="bg-surface-2 p-4 rounded-lg hover:bg-surface-3 transition-colors">
              <div class="flex justify-between mb-2">
                <span class="text-xs px-2 py-1 bg-warning bg-opacity-20 rounded-full text-warning">Intermediate</span>
                <p class="text-primary font-bold">$40</p>
              </div>
              <h4 class="font-medium">Web Animation Techniques</h4>
              <p class="text-sm text-secondary mt-1 mb-3">Learn to create engaging web animations with CSS and JavaScript.</p>
              <button class="w-full btn btn-primary py-1.5 text-sm">View Details</button>
            </div>
            <div class="bg-surface-2 p-4 rounded-lg hover:bg-surface-3 transition-colors">
              <div class="flex justify-between mb-2">
                <span class="text-xs px-2 py-1 bg-success bg-opacity-20 rounded-full text-success">Beginner</span>
                <p class="text-primary font-bold">$25</p>
              </div>
              <h4 class="font-medium">Data Visualization Basics</h4>
              <p class="text-sm text-secondary mt-1 mb-3">Learn how to present data effectively using modern visualization tools.</p>
              <button class="w-full btn btn-primary py-1.5 text-sm">View Details</button>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Featured Teachers Section -->
      <div class="mb-12">
        <div class="flex justify-between items-center mb-6">
          <h2 class="text-2xl font-semibold flex items-center" data-aos="fade-up">
            <i class="fas fa-chalkboard-teacher text-primary mr-2"></i>
            Featured Teachers
          </h2>
          <div class="relative">
            <select id="teacher-sort" class="appearance-none bg-surface-2 text-white py-2 px-4 pr-8 rounded-lg focus:outline-none focus:ring-1 focus:ring-primary">
              <option value="rating">Top Rated</option>
              <option value="sessions">Most Sessions</option>
              <option value="name">Alphabetical</option>
              <option value="new">Newest</option>
            </select>
            <i class="fas fa-chevron-down absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none"></i>
          </div>
        </div>
        
        <div id="teachers-container" class="grid grid-cols-1 md:grid-cols-2 gap-6" data-aos="fade-up">
          <!-- Teachers will be loaded here -->
          <div class="bg-surface-1 p-6 rounded-xl shadow-lg text-center">
            <div class="inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary mb-4"></div>
            <p class="text-gray-300">Loading teachers...</p>
          </div>
        </div>
        
        <div class="flex justify-center mt-8">
          <button id="load-more-teachers" class="btn btn-secondary py-3 px-8 flex items-center">
            View More Teachers <i class="fas fa-arrow-right ml-2"></i>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Toast Notification -->
  <div id="toast" class="toast-notification">
    <div class="flex items-center">
      <i class="fas fa-info-circle text-primary text-xl mr-3"></i>
      <div>
        <h4 class="font-medium">Information</h4>
        <p class="text-sm text-gray-400" id="toast-message">This is a notification.</p>
      </div>
    </div>
  </div>

  <!-- AOS Animation Init -->
  <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
  <script src="js/sidebar-loader.js"></script>
  <script>
    AOS.init({
      duration: 800,
      easing: 'ease-in-out',
      once: true
    });
    
    // Handle filter pills
    document.querySelectorAll('.filter-pill').forEach(pill => {
      pill.addEventListener('click', function() {
        // If it's the "All" pill, deactivate all others
        if (this.textContent === 'All') {
          document.querySelectorAll('.filter-pill').forEach(p => {
            p.classList.remove('active');
          });
          this.classList.add('active');
        } else {
          // Toggle the active state of the clicked pill
          this.classList.toggle('active');
          
          // If this pill is being activated, deactivate the "All" pill
          if (this.classList.contains('active')) {
            document.querySelector('.filter-pill:first-child').classList.remove('active');
          }
          
          // If no pills are active, activate the "All" pill
          const activePills = document.querySelectorAll('.filter-pill.active');
          if (activePills.length === 0) {
            document.querySelector('.filter-pill:first-child').classList.add('active');
          }
        }
        
        // Here you would typically filter the sessions based on the active pills
        // This would involve an API call or filtering local data
        showToast('Filtering sessions...');
      });
    });
    
    // Show a toast notification
    function showToast(message) {
      const toast = document.getElementById('toast');
      const toastMessage = document.getElementById('toast-message');
      
      if (toast && toastMessage) {
        toastMessage.textContent = message;
        toast.classList.add('show');
        
        setTimeout(() => {
          toast.classList.remove('show');
        }, 3000);
      }
    }
    
    // View teacher profile function
    function viewTeacherProfile(teacherId) {
      // Get teacher info from the database
      const teacher = teachersDatabase.find(t => t.id == teacherId);
      
      if (!teacher) {
        showToast("Teacher profile not found");
        return;
      }
      
      // Create modal for teacher profile
      const modal = document.createElement('div');
      modal.className = 'fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50 overflow-y-auto';
      modal.id = 'teacher-profile-modal';
      
      // Generate star rating HTML
      const fullStars = Math.floor(teacher.rating);
      const hasHalfStar = teacher.rating % 1 !== 0;
      let starsHtml = '';
      
      for (let i = 1; i <= 5; i++) {
        if (i <= fullStars) {
          starsHtml += '<i class="fas fa-star"></i>';
        } else if (i === fullStars + 1 && hasHalfStar) {
          starsHtml += '<i class="fas fa-star-half-alt"></i>';
        } else {
          starsHtml += '<i class="far fa-star"></i>';
        }
      }
      
      // Generate skills HTML
      const skillsHtml = teacher.skills.map(skill => 
        `<span class="bg-surface-2 text-primary rounded-full px-3 py-1 text-sm">${skill}</span>`
      ).join('');
      
      modal.innerHTML = `
        <div class="bg-surface-1 p-6 rounded-xl shadow-lg w-full max-w-3xl mx-4 my-8">
          <div class="flex justify-between items-start mb-6">
            <h2 class="text-3xl font-semibold">${teacher.name}</h2>
            <button id="close-profile-modal" class="text-gray-400 hover:text-white">
              <i class="fas fa-times text-xl"></i>
            </button>
          </div>
          
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div class="md:col-span-1">
              <div class="flex flex-col items-center">
                <img src="${teacher.image}" alt="${teacher.name}" class="w-40 h-40 rounded-full border-4 border-primary mb-4">
                <p class="text-lg font-medium mb-1">${teacher.title}</p>
                <div class="flex text-warning mb-2">
                  ${starsHtml}
                  <span class="text-white ml-2">${teacher.rating}</span>
                </div>
                <p class="text-sm text-secondary mb-4">${teacher.reviews} reviews</p>
                
                <div class="w-full space-y-3 mt-2">
                  <div class="flex items-center text-sm">
                    <i class="fas fa-history text-primary mr-2 w-5"></i>
                    <span>${teacher.hoursTaught}+ hours taught</span>
                  </div>
                  <div class="flex items-center text-sm">
                    <i class="fas fa-globe text-primary mr-2 w-5"></i>
                    <span>${teacher.languages.join(', ')}</span>
                  </div>
                  <div class="flex items-center text-sm">
                    <i class="fas fa-dollar-sign text-primary mr-2 w-5"></i>
                    <span>${teacher.price}</span>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="md:col-span-2">
              <h3 class="text-xl font-semibold mb-3">About Me</h3>
              <p class="text-secondary mb-6">${teacher.bio}</p>
              
              <h3 class="text-xl font-semibold mb-3">Skills & Expertise</h3>
              <div class="flex flex-wrap gap-2 mb-6">
                ${skillsHtml}
              </div>
              
              <h3 class="text-xl font-semibold mb-3">Availability</h3>
              <p class="text-secondary mb-6">${teacher.availability}</p>
              
              <h3 class="text-xl font-semibold mb-4">Book a Session</h3>
              <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                <button onclick="bookSessionWithTeacher(${teacher.id})" class="btn btn-primary py-3 px-6 rounded-lg flex items-center justify-center">
                  <i class="fas fa-calendar-check mr-2"></i> Book Single Session
                </button>
                <button onclick="viewTeacherSessions(${teacher.id})" class="btn btn-secondary py-3 px-6 rounded-lg flex items-center justify-center">
                  <i class="fas fa-calendar-alt mr-2"></i> View Available Sessions
                </button>
              </div>
            </div>
          </div>
        </div>
      `;
      
      document.body.appendChild(modal);
      
      // Handle close button
      document.getElementById('close-profile-modal').addEventListener('click', () => {
        document.body.removeChild(modal);
      });
      
      // Close when clicking outside the modal content
      modal.addEventListener('click', (e) => {
        if (e.target === modal) {
          document.body.removeChild(modal);
        }
      });
    }
    
    // Book a session with a specific teacher
    function bookSessionWithTeacher(teacherId) {
      // Close the profile modal first
      const modal = document.getElementById('teacher-profile-modal');
      if (modal) {
        document.body.removeChild(modal);
      }
      
      // Call the existing booking function with the teacher's ID
      bookSession(teacherId);
    }
    
    // View available sessions for a specific teacher
    function viewTeacherSessions(teacherId) {
      // Close the profile modal
      const modal = document.getElementById('teacher-profile-modal');
      if (modal) {
        document.body.removeChild(modal);
      }
      
      // Scroll to the available sessions section
      document.getElementById('available-sessions-container').scrollIntoView({ behavior: 'smooth' });
      
      // Show toast notification
      showToast(`Showing sessions for selected teacher. Book any session.`);
    }
    
    // Sort teachers based on selected criteria
    function sortTeachers(sortBy) {
      // Sort the filtered teachers array
      switch(sortBy) {
        case 'rating':
          // Sort by rating (highest first)
          filteredTeachers.sort((a, b) => b.rating - a.rating);
          break;
          
        case 'sessions':
          // Sort by hours taught (highest first)
          filteredTeachers.sort((a, b) => b.hoursTaught - a.hoursTaught);
          break;
          
        case 'name':
          // Sort alphabetically by name
          filteredTeachers.sort((a, b) => a.name.localeCompare(b.name));
          break;
          
        case 'new':
          // In a real database, this would sort by join date
          // For this demo, just reverse the current order
          filteredTeachers.reverse();
          break;
      }
      
      // Reset pagination and display the first page
      currentTeacherPage = 1;
      displayTeachers(filteredTeachers.slice(0, teachersPerPage));
      
      showToast(`Teachers sorted by ${sortBy}`);
    }
    
    // Database of teachers (simulating a backend database)
    const teachersDatabase = [
      {
        id: 1,
        name: "David Wilson",
        title: "Senior Frontend Developer",
        image: "https://randomuser.me/api/portraits/men/32.jpg",
        rating: 4.5,
        reviews: 126,
        skills: ["JavaScript", "React", "Vue.js", "Node.js", "HTML/CSS"],
        hoursTaught: 450,
        languages: ["English", "Spanish"],
        bio: "Full-stack developer with 7+ years experience specializing in JavaScript frameworks. Passionate about teaching and helping others learn to code. I've worked with startups and large enterprises, helping teams adopt modern web technologies.",
        price: "FREE",
        availability: "Available Weekdays 5-9 PM, Weekends 9 AM-7 PM",
        status: "Available"
      },
      {
        id: 2,
        name: "Sarah Johnson",
        title: "UI/UX Designer at Google",
        image: "https://randomuser.me/api/portraits/women/44.jpg",
        rating: 5.0,
        reviews: 89,
        skills: ["UI/UX", "Figma", "Adobe Suite", "Design Systems", "User Research"],
        hoursTaught: 320,
        languages: ["English", "French"],
        bio: "Design leader with expertise in creating user-centered digital experiences. I help students master design thinking and practical UI/UX skills. Currently working at Google, I bring real-world experience from leading tech companies to my teaching.",
        price: "FREE",
        availability: "Available Weekdays after 6 PM, Weekends all day",
        status: "Available"
      },
      {
        id: 3,
        name: "Michael Brown",
        title: "Python Developer",
        image: "https://randomuser.me/api/portraits/men/67.jpg",
        rating: 4.1,
        reviews: 52,
        skills: ["Python", "Django", "Data Science", "Machine Learning", "SQL"],
        hoursTaught: 280,
        languages: ["English"],
        bio: "Python developer with a focus on backend development and data analysis. I make complex concepts simple for beginners and advanced students alike. My teaching approach focuses on practical projects that build real-world skills.",
        price: "FREE",
        availability: "Available Weekdays 7-10 PM, Weekends 10 AM-5 PM",
        status: "Available"
      },
      {
        id: 4,
        name: "Emma Wilson",
        title: "Mobile App Developer",
        image: "https://randomuser.me/api/portraits/women/28.jpg",
        rating: 4.7,
        reviews: 63,
        skills: ["React Native", "Flutter", "Swift", "Mobile UI/UX", "Firebase"],
        hoursTaught: 210,
        languages: ["English", "German"],
        bio: "Specialized in cross-platform mobile development. I help students build their first mobile apps and develop professional mobile development skills. With over 20 apps published in app stores, I bring practical experience to every session.",
        price: "FREE",
        availability: "Limited availability this week, more slots next week",
        status: "Busy Today"
      },
      {
        id: 5,
        name: "Daniel Lee",
        title: "Data Scientist",
        image: "https://randomuser.me/api/portraits/men/52.jpg",
        rating: 4.9,
        reviews: 78,
        skills: ["Data Science", "Machine Learning", "Python", "R", "SQL", "Data Visualization"],
        hoursTaught: 385,
        languages: ["English", "Korean"],
        bio: "Data scientist with expertise in predictive modeling and statistical analysis. I help students understand complex data concepts and apply them to real-world problems. My teaching focuses on practical applications and industry best practices.",
        price: "FREE",
        availability: "Flexible schedule, available most weekdays and weekends",
        status: "Available"
      },
      {
        id: 6,
        name: "Sophia Garcia",
        title: "Cybersecurity Specialist",
        image: "https://randomuser.me/api/portraits/women/39.jpg",
        rating: 4.8,
        reviews: 42,
        skills: ["Network Security", "Ethical Hacking", "Penetration Testing", "Security Tools"],
        hoursTaught: 190,
        languages: ["English", "Spanish"],
        bio: "Cybersecurity professional specializing in threat detection and security architecture. I help students understand security principles and develop practical skills for today's cybersecurity challenges.",
        price: "FREE",
        availability: "Evenings and weekends",
        status: "Available"
      },
      {
        id: 7,
        name: "Ryan Taylor",
        title: "Game Developer",
        image: "https://randomuser.me/api/portraits/men/21.jpg",
        rating: 4.6,
        reviews: 37,
        skills: ["Unity", "C#", "Game Design", "3D Modeling", "Animation"],
        hoursTaught: 215,
        languages: ["English"],
        bio: "Indie game developer with published titles on multiple platforms. I teach game development from concept to completion, focusing on Unity and C#. Whether you're a beginner or experienced, I'll help you bring your game ideas to life.",
        price: "FREE",
        availability: "Weekends and select weekday evenings",
        status: "Busy Today"
      },
      {
        id: 8,
        name: "Olivia Martinez",
        title: "Full-Stack Web Developer",
        image: "https://randomuser.me/api/portraits/women/63.jpg",
        rating: 4.4,
        reviews: 56,
        skills: ["JavaScript", "TypeScript", "React", "Node.js", "MongoDB", "Express"],
        hoursTaught: 310,
        languages: ["English", "Spanish"],
        bio: "Full-stack developer specializing in modern web technologies. I teach practical development skills with a focus on the MERN stack. From beginners to advanced developers, I'll help you build impressive web applications.",
        price: "FREE",
        availability: "Monday-Thursday evenings and weekends",
        status: "Available"
      }
    ];
    
    // Current page for pagination
    let currentTeacherPage = 1;
    const teachersPerPage = 4;
    let filteredTeachers = [];
    
    // Fetch teachers from database (simulated)
    function fetchTeachersFromDatabase() {
      // In a real application, this would be an API call
      // For this demo, we're using our simulated database
      
      console.log('Attempting to fetch teachers from database');
      
      // Simulate network delay
      setTimeout(() => {
        try {
          // Store the filtered teachers
          filteredTeachers = [...teachersDatabase];
          
          // Try to display teachers if possible
          const teachersContainer = document.getElementById('teachers-container');
          if (teachersContainer) {
            teachersContainer.innerHTML = filteredTeachers.slice(0, teachersPerPage).map(teacher => `
              <div class="bg-surface-2 p-4 rounded-lg flex items-center">
                <img src="${teacher.image}" alt="${teacher.name}" class="w-16 h-16 rounded-full mr-4">
                <div>
                  <h4 class="font-semibold">${teacher.name}</h4>
                  <p class="text-secondary text-sm">${teacher.title}</p>
                </div>
              </div>
            `).join('');
          } else {
            console.warn('Teachers container not found. Skipping display.');
          }
        } catch (error) {
          console.error('Error fetching or displaying teachers:', error);
        }
      }, 1200);
    }
    
    // Display teachers in the UI
    function displayTeachers(teachers) {
      const teachersContainer = document.getElementById('teachers-container');
      teachersContainer.innerHTML = '';
      
      teachers.forEach(teacher => {
        // Generate stars HTML
        const fullStars = Math.floor(teacher.rating);
        const hasHalfStar = teacher.rating % 1 !== 0;
        let starsHtml = '';
        
        for (let i = 1; i <= 5; i++) {
          if (i <= fullStars) {
            starsHtml += '<i class="fas fa-star"></i>';
          } else if (i === fullStars + 1 && hasHalfStar) {
            starsHtml += '<i class="fas fa-star-half-alt"></i>';
          } else {
            starsHtml += '<i class="far fa-star"></i>';
          }
        }
        
        // Create teacher card element
        const teacherCard = document.createElement('div');
        teacherCard.className = 'bg-surface-1 p-6 rounded-xl shadow-lg teacher-card';
        teacherCard.innerHTML = `
          <div class="flex items-center mb-4">
            <img src="${teacher.image}" alt="${teacher.name}" class="w-16 h-16 rounded-full mr-4 border-2 border-primary">
            <div>
              <h3 class="text-xl font-semibold">${teacher.name}</h3>
              <p class="text-sm text-secondary">${teacher.title}</p>
              <div class="flex items-center mt-1">
                <div class="flex text-warning">
                  ${starsHtml}
                </div>
                <span class="text-xs text-secondary ml-2">${teacher.rating} (${teacher.reviews} reviews)</span>
              </div>
            </div>
          </div>
          <div class="space-y-2 mb-4">
            <div class="flex items-center text-sm">
              <i class="fas fa-graduation-cap text-primary mr-2 w-5"></i>
              <span>${teacher.skills.slice(0, 3).join(', ')}</span>
            </div>
            <div class="flex items-center text-sm">
              <i class="fas fa-history text-primary mr-2 w-5"></i>
              <span>${teacher.hoursTaught}+ hours taught</span>
            </div>
            <div class="flex items-center text-sm">
              <i class="fas fa-globe text-primary mr-2 w-5"></i>
              <span>${teacher.languages.join(', ')}</span>
            </div>
          </div>
          <p class="text-sm text-secondary mb-4 line-clamp-3">${teacher.bio}</p>
          <div class="flex justify-between items-center">
            <span class="${teacher.status === 'Available' ? 'text-success' : 'text-warning'} font-bold">${teacher.status}</span>
            <button class="btn btn-primary py-2 px-4" onclick="viewTeacherProfile(${teacher.id})">View Profile</button>
          </div>
        `;
        
        teachersContainer.appendChild(teacherCard);
      });
      
      // Update button text to show pagination info
      const totalPages = Math.ceil(filteredTeachers.length / teachersPerPage);
      document.getElementById('load-more-teachers').textContent = 
        `Show More (${currentTeacherPage}/${totalPages})`;
        
      // If all teachers are displayed, change the button
      if (currentTeacherPage >= totalPages) {
        document.getElementById('load-more-teachers').textContent = 'All Teachers Loaded';
        document.getElementById('load-more-teachers').disabled = true;
        document.getElementById('load-more-teachers').classList.add('opacity-50');
      } else {
        document.getElementById('load-more-teachers').innerHTML = 
          `View More Teachers <i class="fas fa-arrow-right ml-2"></i>`;
        document.getElementById('load-more-teachers').disabled = false;
        document.getElementById('load-more-teachers').classList.remove('opacity-50');
      }
    }
    
    // Load more teachers (pagination)
    function loadMoreTeachers() {
      // Show loading state
      const button = document.getElementById('load-more-teachers');
      button.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i> Loading...';
      
      // Increment page
      currentTeacherPage++;
      
      // Calculate start and end indices
      const startIndex = 0; // Always start from beginning to show all loaded so far
      const endIndex = currentTeacherPage * teachersPerPage;
      
      // Simulate network delay
      setTimeout(() => {
        // Get all teachers to display so far (not just the new page)
        const teachersToShow = filteredTeachers.slice(startIndex, endIndex);
        displayTeachers(teachersToShow);
        
        showToast(`Loaded page ${currentTeacherPage} of teachers`);
      }, 1000);
    }
  </script>
  <script>
    particlesJS('particles-js', {
        "particles": {
            "number": {
                "value": 80,
                "density": {
                    "enable": true,
                    "value_area": 800
                }
            },
            "color": {
                "value": "#00bfa6"
            },
            "shape": {
                "type": "circle",
                "stroke": {
                    "width": 0,
                    "color": "#000000"
                }
            },
            "opacity": {
                "value": 0.3,
                "random": false
            },
            "size": {
                "value": 3,
                "random": true
            },
            "line_linked": {
                "enable": true,
                "distance": 150,
                "color": "#00bfa6",
                "opacity": 0.4,
                "width": 1
            },
            "move": {
                "enable": true,
                "speed": 6,
                "direction": "none",
                "random": false,
                "straight": false,
                "out_mode": "out",
                "bounce": false
            }
        }
    });
  </script>
  <!-- Add learn-page.js script first for session functionality -->
  <script src="js/learn-page.js"></script>
  <!-- Add learn.js script to handle shared booking functionality -->
  <script src="js/learn.js"></script>
  
  <script>
    // Initialize teacher functionality
    document.addEventListener('DOMContentLoaded', () => {
      // Fetch teachers from database
      fetchTeachersFromDatabase();
      
      // Set up teacher sort functionality
      const teacherSort = document.getElementById('teacher-sort');
      if (teacherSort) {
        teacherSort.addEventListener('change', function() {
          sortTeachers(this.value);
        });
      }
      
      // Set up view all teachers button
      document.getElementById('load-more-teachers').addEventListener('click', function() {
        loadMoreTeachers();
      });
    });
  </script>
</body>
</html>
